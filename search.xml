<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>hello</title>
    <url>/2022/02/21/hello/</url>
    <content><![CDATA[<p>关于本站</p>
]]></content>
  </entry>
  <entry>
    <title>Redis部署</title>
    <url>/2022/02/21/redisSentinel/</url>
    <content><![CDATA[<h2 id="一、Redis单机模式部署"><a href="#一、Redis单机模式部署" class="headerlink" title="一、Redis单机模式部署"></a>一、Redis单机模式部署</h2><ol>
<li><h3 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h3><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">wget http://download.redis.io/releases/redis-4.0.2.tar.gz</span><br><span class="line"></span><br><span class="line">tar -zxvf redis-4.0.2.tar.gz</span><br><span class="line"></span><br><span class="line">yum install gcc</span><br><span class="line"></span><br><span class="line">cd redis-4.0.2</span><br><span class="line"></span><br><span class="line">make MALLOC=libc</span><br><span class="line"></span><br><span class="line">cd src </span><br><span class="line"></span><br><span class="line">make install</span><br></pre></td></tr></table></figure></li>
<li><h3 id="修改redis-conf文件"><a href="#修改redis-conf文件" class="headerlink" title="修改redis.conf文件"></a>修改<strong>redis.conf文件</strong></h3><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">cd ..</span><br><span class="line"></span><br><span class="line">vi redis.conf</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 注释掉 <span class="built_in">bind</span> 127.0.0.1</span></span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 修改protected-mode 为no</span></span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 修改daemonize 为yes</span></span><br></pre></td></tr></table></figure></li>
<li><h3 id="后台启动"><a href="#后台启动" class="headerlink" title="后台启动"></a>后台启动</h3><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">./redis-server ../redis.conf</span><br></pre></td></tr></table></figure></li>
<li><h3 id="开机自启动设置"><a href="#开机自启动设置" class="headerlink" title="开机自启动设置"></a>开机自启动设置</h3><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">mkdir /etc/redis</span><br><span class="line"><span class="meta">#</span><span class="bash">复制redis配置文件(启动脚本需要用到配置文件内容,所以要复制)</span></span><br><span class="line">cp  /opt/redis-4.0.2/redis.conf /etc/redis/6379.conf</span><br><span class="line"><span class="meta">#</span><span class="bash">复制redis启动脚本</span></span><br><span class="line">cp  /opt/redis-4.0.2/utils/redis_init_script /etc/init.d/redis</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash">修改启动脚本参数</span></span><br><span class="line">vi /etc/init.d/redis</span><br><span class="line"><span class="meta">#</span><span class="bash">在/etc/init.d/redis文件的头部添加下面两行注释代码,也就是在文件中<span class="comment">#!/bin/sh的下方添加</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> chkconfig: 2345 10 90</span>  </span><br><span class="line"><span class="meta">#</span><span class="bash"> description: Start and Stop redis</span></span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash">同时还要修改参数,指定redis的安装路径</span></span><br><span class="line">EXEC=/opt/redis-4.0.2/src/redis-server</span><br><span class="line">CLIEXEC=/opt/redis-4.0.2/src/redis-cli</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><h3 id="开机自启动Redis"><a href="#开机自启动Redis" class="headerlink" title="开机自启动Redis"></a>开机自启动Redis</h3><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 打开redis命令:</span></span><br><span class="line">service redis start</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 关闭redis命令:</span></span><br><span class="line">service redis stop</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 设为开机启动:</span></span><br><span class="line">chkconfig redis on</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 设为开机关闭:</span></span><br><span class="line">chkconfig redis off</span><br></pre></td></tr></table></figure></li>
</ol>
]]></content>
      <tags>
        <tag>Redis,Redis部署</tag>
      </tags>
  </entry>
</search>
